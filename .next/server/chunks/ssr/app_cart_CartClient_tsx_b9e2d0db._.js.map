{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/Desktop/work/project/app/cart/CartClient.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { Minus, Plus, Trash2, ShoppingBag, ArrowLeft, CreditCard, Truck } from 'lucide-react';\r\nimport { useCart } from '@/hooks/useCart';\r\n\r\nexport default function CartClient() {\r\n  const { items, updateQuantity, removeItem, clearCart, total } = useCart();\r\n  const [promoCode, setPromoCode] = useState('');\r\n  const [isPromoApplied, setIsPromoApplied] = useState(false);\r\n\r\n  const formatPrice = (price: number) => {\r\n    return new Intl.NumberFormat('ru-RU', {\r\n      style: 'currency',\r\n      currency: 'RUB',\r\n      minimumFractionDigits: 0\r\n    }).format(price);\r\n  };\r\n\r\n  const handlePromoCode = () => {\r\n    // Простая логика промокода для демонстрации\r\n    if (promoCode.toLowerCase() === 'save10') {\r\n      setIsPromoApplied(true);\r\n    }\r\n  };\r\n\r\n  const discount = isPromoApplied ? total * 0.1 : 0;\r\n  const finalTotal = total - discount;\r\n  const deliveryFee = finalTotal > 3000 ? 0 : 300;\r\n  const grandTotal = finalTotal + deliveryFee;\r\n\r\n  if (items.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-xl shadow-sm p-8 text-center\">\r\n        <div className=\"max-w-md mx-auto\">\r\n          <ShoppingBag className=\"h-16 w-16 text-gray-300 mx-auto mb-4\" />\r\n          <h2 className=\"text-2xl font-semibold text-gray-900 mb-2\">Корзина пуста</h2>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            Добавьте товары в корзину, чтобы продолжить покупки\r\n          </p>\r\n          <Link\r\n            href=\"/catalog\"\r\n            className=\"inline-flex items-center gap-2 bg-pink-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-pink-600 transition-colors\"\r\n          >\r\n            <ArrowLeft className=\"h-4 w-4\" />\r\n            Перейти к каталогу\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n      {/* Cart Items */}\r\n      <div className=\"lg:col-span-2 space-y-4\">\r\n        <div className=\"bg-white rounded-xl shadow-sm\">\r\n          <div className=\"p-6 border-b\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-xl font-semibold\">Товары в корзине ({items.length})</h2>\r\n              <button\r\n                onClick={clearCart}\r\n                className=\"text-red-500 hover:text-red-700 text-sm font-medium transition-colors\"\r\n              >\r\n                Очистить корзину\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"divide-y\">\r\n            {items.map((item) => (\r\n              <div key={item.id} className=\"p-6\">\r\n                <div className=\"flex gap-4\">\r\n                  <div className=\"relative w-24 h-24 flex-shrink-0\">\r\n                    <Image\r\n                      src={item.image}\r\n                      alt={item.name}\r\n                      fill\r\n                      className=\"object-cover rounded-lg\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"flex-1\">\r\n                    <div className=\"flex justify-between items-start mb-2\">\r\n                      <Link\r\n                        href={`/products/${item.id}`}\r\n                        className=\"font-semibold text-gray-900 hover:text-pink-500 transition-colors\"\r\n                      >\r\n                        {item.name}\r\n                      </Link>\r\n                      <button\r\n                        onClick={() => removeItem(item.id)}\r\n                        className=\"text-gray-400 hover:text-red-500 transition-colors ml-4\"\r\n                      >\r\n                        <Trash2 className=\"h-5 w-5\" />\r\n                      </button>\r\n                    </div>\r\n\r\n                    <div className=\"text-lg font-bold text-gray-900 mb-3\">\r\n                      {formatPrice(item.price)}\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center border border-gray-300 rounded-lg\">\r\n                        <button\r\n                          onClick={() => updateQuantity(item.id, Math.max(1, item.quantity - 1))}\r\n                          className=\"p-2 hover:bg-gray-100 transition-colors\"\r\n                          disabled={item.quantity <= 1}\r\n                        >\r\n                          <Minus className=\"h-4 w-4\" />\r\n                        </button>\r\n                        <span className=\"px-4 py-2 font-medium\">{item.quantity}</span>\r\n                        <button\r\n                          onClick={() => updateQuantity(item.id, item.quantity + 1)}\r\n                          className=\"p-2 hover:bg-gray-100 transition-colors\"\r\n                        >\r\n                          <Plus className=\"h-4 w-4\" />\r\n                        </button>\r\n                      </div>\r\n\r\n                      <div className=\"text-right\">\r\n                        <div className=\"text-lg font-bold text-gray-900\">\r\n                          {formatPrice(item.price * item.quantity)}\r\n                        </div>\r\n                        {item.quantity > 1 && (\r\n                          <div className=\"text-sm text-gray-500\">\r\n                            {formatPrice(item.price)} × {item.quantity}\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Continue Shopping */}\r\n        <Link\r\n          href=\"/catalog\"\r\n          className=\"inline-flex items-center gap-2 text-pink-500 hover:text-pink-700 font-medium transition-colors\"\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4\" />\r\n          Продолжить покупки\r\n        </Link>\r\n      </div>\r\n\r\n      {/* Order Summary */}\r\n      <div className=\"space-y-6\">\r\n        {/* Promo Code */}\r\n        <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n          <h3 className=\"font-semibold mb-4\">Промокод</h3>\r\n          <div className=\"space-y-3\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Введите промокод\"\r\n              value={promoCode}\r\n              onChange={(e) => setPromoCode(e.target.value)}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500\"\r\n            />\r\n            <button\r\n              onClick={handlePromoCode}\r\n              disabled={isPromoApplied || !promoCode}\r\n              className=\"w-full py-3 px-4 border border-pink-500 text-pink-500 rounded-lg font-medium hover:bg-pink-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n            >\r\n              {isPromoApplied ? 'Промокод применен' : 'Применить'}\r\n            </button>\r\n            \r\n            {isPromoApplied && (\r\n              <div className=\"text-green-600 text-sm\">\r\n                ✓ Скидка 10% применена!\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Order Summary */}\r\n        <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n          <h3 className=\"font-semibold mb-4\">Итого</h3>\r\n          \r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex justify-between\">\r\n              <span>Товары ({items.reduce((sum, item) => sum + item.quantity, 0)} шт.)</span>\r\n              <span>{formatPrice(total)}</span>\r\n            </div>\r\n            \r\n            {isPromoApplied && (\r\n              <div className=\"flex justify-between text-green-600\">\r\n                <span>Скидка по промокоду</span>\r\n                <span>-{formatPrice(discount)}</span>\r\n              </div>\r\n            )}\r\n            \r\n            <div className=\"flex justify-between\">\r\n              <span className=\"flex items-center gap-2\">\r\n                <Truck className=\"h-4 w-4\" />\r\n                Доставка\r\n              </span>\r\n              <span>\r\n                {deliveryFee === 0 ? (\r\n                  <span className=\"text-green-600\">Бесплатно</span>\r\n                ) : (\r\n                  formatPrice(deliveryFee)\r\n                )}\r\n              </span>\r\n            </div>\r\n            \r\n            {deliveryFee > 0 && (\r\n              <div className=\"text-sm text-gray-500\">\r\n                Бесплатная доставка от {formatPrice(3000)}\r\n              </div>\r\n            )}\r\n            \r\n            <hr className=\"my-4\" />\r\n            \r\n            <div className=\"flex justify-between text-lg font-bold\">\r\n              <span>К оплате</span>\r\n              <span>{formatPrice(grandTotal)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Checkout Button */}\r\n        <div className=\"bg-white rounded-xl shadow-sm p-6\">\r\n          <button className=\"w-full bg-pink-500 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:bg-pink-600 transition-colors flex items-center justify-center gap-2 mb-4\">\r\n            <CreditCard className=\"h-5 w-5\" />\r\n            Оформить заказ\r\n          </button>\r\n          \r\n          <div className=\"text-center text-sm text-gray-500\">\r\n            <p>Безопасная оплата через</p>\r\n            <div className=\"flex justify-center gap-2 mt-2\">\r\n              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">Visa</span>\r\n              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">MasterCard</span>\r\n              <span className=\"px-2 py-1 bg-gray-100 rounded text-xs\">МИР</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Delivery Info */}\r\n        <div className=\"bg-gray-100 rounded-xl p-6\">\r\n          <h4 className=\"font-medium mb-3\">Условия доставки</h4>\r\n          <ul className=\"text-sm text-gray-600 space-y-2\">\r\n            <li>• Доставка по Москве и МО</li>\r\n            <li>• Бесплатная доставка от {formatPrice(3000)}</li>\r\n            <li>• Доставка в течение 1-3 дней</li>\r\n            <li>• Возможен самовывоз</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,iHAAA,CAAA,UAAO,AAAD;IACtE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,MAAM,cAAc,CAAC;QACnB,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;YACpC,OAAO;YACP,UAAU;YACV,uBAAuB;QACzB,GAAG,MAAM,CAAC;IACZ;IAEA,MAAM,kBAAkB;QACtB,4CAA4C;QAC5C,IAAI,UAAU,WAAW,OAAO,UAAU;YACxC,kBAAkB;QACpB;IACF;IAEA,MAAM,WAAW,iBAAiB,QAAQ,MAAM;IAChD,MAAM,aAAa,QAAQ;IAC3B,MAAM,cAAc,aAAa,OAAO,IAAI;IAC5C,MAAM,aAAa,aAAa;IAEhC,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,oNAAA,CAAA,cAAW;wBAAC,WAAU;;;;;;kCACvB,8OAAC;wBAAG,WAAU;kCAA4C;;;;;;kCAC1D,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;kCAGlC,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC,gNAAA,CAAA,YAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;;;;;;IAM3C;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAG,WAAU;;gDAAwB;gDAAmB,MAAM,MAAM;gDAAC;;;;;;;sDACtE,8OAAC;4CACC,SAAS;4CACT,WAAU;sDACX;;;;;;;;;;;;;;;;;0CAML,8OAAC;gCAAI,WAAU;0CACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;wCAAkB,WAAU;kDAC3B,cAAA,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;wDACJ,KAAK,KAAK,KAAK;wDACf,KAAK,KAAK,IAAI;wDACd,IAAI;wDACJ,WAAU;;;;;;;;;;;8DAId,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAI,WAAU;;8EACb,8OAAC,4JAAA,CAAA,UAAI;oEACH,MAAM,CAAC,UAAU,EAAE,KAAK,EAAE,EAAE;oEAC5B,WAAU;8EAET,KAAK,IAAI;;;;;;8EAEZ,8OAAC;oEACC,SAAS,IAAM,WAAW,KAAK,EAAE;oEACjC,WAAU;8EAEV,cAAA,8OAAC,0MAAA,CAAA,SAAM;wEAAC,WAAU;;;;;;;;;;;;;;;;;sEAItB,8OAAC;4DAAI,WAAU;sEACZ,YAAY,KAAK,KAAK;;;;;;sEAGzB,8OAAC;4DAAI,WAAU;;8EACb,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EACC,SAAS,IAAM,eAAe,KAAK,EAAE,EAAE,KAAK,GAAG,CAAC,GAAG,KAAK,QAAQ,GAAG;4EACnE,WAAU;4EACV,UAAU,KAAK,QAAQ,IAAI;sFAE3B,cAAA,8OAAC,oMAAA,CAAA,QAAK;gFAAC,WAAU;;;;;;;;;;;sFAEnB,8OAAC;4EAAK,WAAU;sFAAyB,KAAK,QAAQ;;;;;;sFACtD,8OAAC;4EACC,SAAS,IAAM,eAAe,KAAK,EAAE,EAAE,KAAK,QAAQ,GAAG;4EACvD,WAAU;sFAEV,cAAA,8OAAC,kMAAA,CAAA,OAAI;gFAAC,WAAU;;;;;;;;;;;;;;;;;8EAIpB,8OAAC;oEAAI,WAAU;;sFACb,8OAAC;4EAAI,WAAU;sFACZ,YAAY,KAAK,KAAK,GAAG,KAAK,QAAQ;;;;;;wEAExC,KAAK,QAAQ,GAAG,mBACf,8OAAC;4EAAI,WAAU;;gFACZ,YAAY,KAAK,KAAK;gFAAE;gFAAI,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uCAvD9C,KAAK,EAAE;;;;;;;;;;;;;;;;kCAoEvB,8OAAC,4JAAA,CAAA,UAAI;wBACH,MAAK;wBACL,WAAU;;0CAEV,8OAAC,gNAAA,CAAA,YAAS;gCAAC,WAAU;;;;;;4BAAY;;;;;;;;;;;;;0BAMrC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;0CACnC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;wCAC5C,WAAU;;;;;;kDAEZ,8OAAC;wCACC,SAAS;wCACT,UAAU,kBAAkB,CAAC;wCAC7B,WAAU;kDAET,iBAAiB,sBAAsB;;;;;;oCAGzC,gCACC,8OAAC;wCAAI,WAAU;kDAAyB;;;;;;;;;;;;;;;;;;kCAQ9C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;0CAEnC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;;oDAAK;oDAAS,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAM,KAAK,QAAQ,EAAE;oDAAG;;;;;;;0DACnE,8OAAC;0DAAM,YAAY;;;;;;;;;;;;oCAGpB,gCACC,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAK;;;;;;0DACN,8OAAC;;oDAAK;oDAAE,YAAY;;;;;;;;;;;;;kDAIxB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;;kEACd,8OAAC,oMAAA,CAAA,QAAK;wDAAC,WAAU;;;;;;oDAAY;;;;;;;0DAG/B,8OAAC;0DACE,gBAAgB,kBACf,8OAAC;oDAAK,WAAU;8DAAiB;;;;;2DAEjC,YAAY;;;;;;;;;;;;oCAKjB,cAAc,mBACb,8OAAC;wCAAI,WAAU;;4CAAwB;4CACb,YAAY;;;;;;;kDAIxC,8OAAC;wCAAG,WAAU;;;;;;kDAEd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAK;;;;;;0DACN,8OAAC;0DAAM,YAAY;;;;;;;;;;;;;;;;;;;;;;;;kCAMzB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAO,WAAU;;kDAChB,8OAAC,kNAAA,CAAA,aAAU;wCAAC,WAAU;;;;;;oCAAY;;;;;;;0CAIpC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;kDAAE;;;;;;kDACH,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,WAAU;0DAAwC;;;;;;0DACxD,8OAAC;gDAAK,WAAU;0DAAwC;;;;;;0DACxD,8OAAC;gDAAK,WAAU;0DAAwC;;;;;;;;;;;;;;;;;;;;;;;;kCAM9D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAmB;;;;;;0CACjC,8OAAC;gCAAG,WAAU;;kDACZ,8OAAC;kDAAG;;;;;;kDACJ,8OAAC;;4CAAG;4CAA0B,YAAY;;;;;;;kDAC1C,8OAAC;kDAAG;;;;;;kDACJ,8OAAC;kDAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMhB","debugId":null}}]
}