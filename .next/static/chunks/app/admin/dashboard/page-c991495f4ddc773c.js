(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5957],{1497:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("message-square",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},1502:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5155),l=a(2115),r=a(5695),d=a(6874),i=a.n(d),c=a(4616),n=a(7108),m=a(1497),x=a(7580),h=a(7809),o=a(3109);function u(){let e,[s,a]=(0,l.useState)(null),[d,u]=(0,l.useState)(!0),g=(0,r.useRouter)();return((0,l.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("admin-token");if(!e)return void g.push("/admin/login");let s=await fetch("/api/admin/stats",{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();a(e.data)}else g.push("/admin/login")}catch(e){a({totalProducts:156,totalUsers:1240,totalOrders:523,totalRevenue:245e4,pendingReviews:12})}finally{u(!1)}})()},[g]),d)?(0,t.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-pink-500"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,t.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Prime Balloons Admin"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Панель управления"})]}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("admin-token"),document.cookie="admin-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",g.push("/admin/login")},className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors",children:"Выйти"})]})})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Быстрые действия"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(i(),{href:"/admin/products/add",className:"flex items-center gap-3 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border-l-4 border-green-500",children:[(0,t.jsx)(c.A,{className:"h-8 w-8 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"Добавить товар"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Создать новый товар"})]})]}),(0,t.jsxs)(i(),{href:"/admin/products",className:"flex items-center gap-3 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border-l-4 border-blue-500",children:[(0,t.jsx)(n.A,{className:"h-8 w-8 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"Управление товарами"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Редактировать каталог"})]})]}),(0,t.jsxs)(i(),{href:"/admin/reviews",className:"flex items-center gap-3 bg-white p-4 rounded-lg shadow-sm hover:shadow-md transition-shadow border-l-4 border-yellow-500",children:[(0,t.jsx)(m.A,{className:"h-8 w-8 text-yellow-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:"Модерация отзывов"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(null==s?void 0:s.pendingReviews)||0," ожидают проверки"]})]})]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Статистика"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(n.A,{className:"h-8 w-8 text-blue-500"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Товаров"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==s?void 0:s.totalProducts)||0})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"h-8 w-8 text-green-500"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Пользователей"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==s?void 0:s.totalUsers)||0})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"h-8 w-8 text-purple-500"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Заказов"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null==s?void 0:s.totalOrders)||0})]})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 text-pink-500"}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Выручка"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s?(e=s.totalRevenue,new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(e)):"0 ₽"})]})]})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Последняя активность"}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm",children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Новый заказ #1234"})," - 2 минуты назад"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Добавлен товар"}),' "Набор шаров Единорог" - 15 минут назад']})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Новый отзыв"})," требует модерации - 1 час назад"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:[(0,t.jsx)("strong",{children:"Зарегистрирован пользователь"})," anna@example.com - 2 часа назад"]})]})]})})})]})]})]})}},3109:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4616:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5514:(e,s,a)=>{Promise.resolve().then(a.bind(a,1502))},5695:(e,s,a)=>{"use strict";var t=a(8999);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},7108:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},7580:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},7809:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[95,8441,1684,7358],()=>s(5514)),_N_E=e.O()}]);