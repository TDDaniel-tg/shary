(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{1007:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1264:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},1713:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_423598",variable:"__variable_423598"}},2657:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3109:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},4186:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4229:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},4335:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9324,23)),Promise.resolve().then(s.bind(s,7223)),Promise.resolve().then(s.bind(s,7606)),Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.t.bind(s,1713,23))},4416:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4783:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]])},6151:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},7223:(e,t,s)=>{"use strict";s.d(t,{default:()=>S});var a=s(5155),r=s(2115),l=s(6874),i=s.n(l),n=s(1007),c=s(9420),o=s(6151),d=s(4416),m=s(4783),x=s(7924),h=s(7606),u=s(8749),p=s(2657);function g(e){let{isOpen:t,onClose:s,onAuthSuccess:l}=e,[i,n]=(0,r.useState)(!0),[c,o]=(0,r.useState)(!1),[m,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)({email:"",password:"",firstName:"",lastName:"",phone:"",confirmPassword:""});if(!t)return null;let y=async e=>{e.preventDefault(),x(!0);try{await new Promise(e=>setTimeout(e,1e3));let e={id:1,username:h.email.split("@")[0],email:h.email,firstName:h.firstName||"Пользователь",lastName:h.lastName,phone:h.phone,createdAt:new Date().toISOString(),discount:5};l(e)}catch(e){}finally{x(!1)}},f=e=>{g(t=>({...t,[e.target.name]:e.target.value}))};return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:s}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl p-6 w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:(0,a.jsx)(d.A,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:i?"Вход в аккаунт":"Регистрация"}),(0,a.jsx)("p",{className:"text-gray-600",children:i?"Введите свои данные для входа":"Создайте новый аккаунт"})]}),(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[!i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Имя"}),(0,a.jsx)("input",{type:"text",name:"firstName",value:h.firstName,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",required:!i})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Фамилия"}),(0,a.jsx)("input",{type:"text",name:"lastName",value:h.lastName,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Телефон"}),(0,a.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:f,placeholder:"+7 (999) 123-45-67",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",name:"email",value:h.email,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Пароль"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:c?"text":"password",name:"password",value:h.password,onChange:f,className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0}),(0,a.jsx)("button",{type:"button",onClick:()=>o(!c),className:"absolute right-3 top-2.5 text-gray-500",children:c?(0,a.jsx)(u.A,{className:"h-5 w-5"}):(0,a.jsx)(p.A,{className:"h-5 w-5"})})]})]}),!i&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Подтвердите пароль"}),(0,a.jsx)("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500",required:!i})]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-pink-500 text-white py-3 rounded-lg font-medium hover:bg-pink-600 transition-colors disabled:opacity-50",children:m?"Загрузка...":i?"Войти":"Зарегистрироваться"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>n(!i),className:"text-pink-500 hover:text-pink-600 font-medium",children:i?"Нет аккаунта? Зарегистрируйтесь":"Уже есть аккаунт? Войти"})}),i&&(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:"Забыли пароль?"})})]})]})}var y=s(4229),f=s(9946);let b=(0,f.A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),j=(0,f.A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var N=s(9074),v=s(1264);function k(e){let{user:t,isOpen:s,onClose:l,onLogout:i}=e,[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(t);if(!s)return null;let u=(e,t)=>{h(s=>({...s,[e]:t}))},p=e=>new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"long",day:"numeric"});return(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50",onClick:l}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Профиль пользователя"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[o?(0,a.jsxs)("button",{onClick:()=>{m(!1)},className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors",children:[(0,a.jsx)(y.A,{className:"h-4 w-4"}),"Сохранить"]}):(0,a.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-colors",children:[(0,a.jsx)(b,{className:"h-4 w-4"}),"Редактировать"]}),(0,a.jsx)("button",{onClick:l,className:"text-gray-500 hover:text-gray-700",children:(0,a.jsx)(d.A,{className:"h-6 w-6"})})]})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-pink-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(n.A,{className:"h-10 w-10 text-pink-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:[x.firstName||x.username,x.lastName&&" ".concat(x.lastName)]}),(0,a.jsx)("p",{className:"text-gray-600",children:x.email}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(j,{className:"h-4 w-4 text-pink-500"}),(0,a.jsxs)("span",{className:"text-sm text-pink-600 font-medium",children:["Скидка: ",x.discount,"%"]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Личная информация"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 inline mr-2"}),"Имя"]}),o?(0,a.jsx)("input",{type:"text",value:x.firstName||"",onChange:e=>u("firstName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.firstName||"Не указано"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Фамилия"}),o?(0,a.jsx)("input",{type:"text",value:x.lastName||"",onChange:e=>u("lastName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.lastName||"Не указано"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Отчество"}),o?(0,a.jsx)("input",{type:"text",value:x.middleName||"",onChange:e=>u("middleName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.middleName||"Не указано"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,a.jsx)(N.A,{className:"h-4 w-4 inline mr-2"}),"Дата рождения"]}),o?(0,a.jsx)("input",{type:"date",value:x.birthDate||"",onChange:e=>u("birthDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.birthDate?p(x.birthDate):"Не указано"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Контактная информация"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 inline mr-2"}),"Email"]}),(0,a.jsx)("p",{className:"text-gray-900",children:x.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 inline mr-2"}),"Телефон"]}),o?(0,a.jsx)("input",{type:"tel",value:x.phone||"",onChange:e=>u("phone",e.target.value),placeholder:"+7 (999) 123-45-67",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.phone||"Не указано"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telegram"}),o?(0,a.jsx)("input",{type:"text",value:x.telegramUsername||"",onChange:e=>u("telegramUsername",e.target.value),placeholder:"@username",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.telegramUsername||"Не указано"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"День рождения ребенка"}),o?(0,a.jsx)("input",{type:"date",value:x.childBirthDate||"",onChange:e=>u("childBirthDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}):(0,a.jsx)("p",{className:"text-gray-900",children:x.childBirthDate?p(x.childBirthDate):"Не указано"})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Информация об аккаунте"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Дата регистрации"}),(0,a.jsx)("p",{className:"text-gray-900",children:p(x.createdAt)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID пользователя"}),(0,a.jsxs)("p",{className:"text-gray-900",children:["#",x.id]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 pt-6 border-t flex justify-between",children:[(0,a.jsx)("button",{onClick:i,className:"px-6 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:"Выйти из аккаунта"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Последний вход: сегодня"})]})]})]})]})}var w=s(4186),A=s(3109);function C(e){let{placeholder:t="Поиск товаров...",className:s=""}=e,[l,n]=(0,r.useState)(""),[c,o]=(0,r.useState)([]),[m,h]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),[g,y]=(0,r.useState)([]),[f]=(0,r.useState)(["воздушные шары","шары с гелием","день рождения","свадебный декор","детский праздник","подарочные коробки"]),b=(0,r.useRef)(null),j=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=localStorage.getItem("recentSearches");e&&y(JSON.parse(e))},[]),(0,r.useEffect)(()=>{let e=e=>{b.current&&!b.current.contains(e.target)&&h(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,r.useEffect)(()=>{l.length>=2?N(l):o([])},[l]);let N=async e=>{p(!0);try{await new Promise(e=>setTimeout(e,300));let t=[{id:"1",title:"Воздушные шары красные",description:"Набор красных латексных шаров для праздника",price:299,image:"/images/red-balloons.jpg",category:"Воздушные шары",url:"/products/1",type:"product"},{id:"2",title:'Шары с гелием "С Днем Рождения"',description:"Фольгированные шары с надписью",price:599,image:"/images/birthday-balloons.jpg",category:"Праздничные шары",url:"/products/2",type:"product"},{id:"cat1",title:"Детские праздники",description:"Все для детского дня рождения",category:"Категория",url:"/catalog?category=kids",type:"category"}].filter(t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()));o(t)}catch(e){}p(!1)},v=e=>{if(e.trim()){let t=[e,...g.filter(t=>t!==e)].slice(0,5);y(t),localStorage.setItem("recentSearches",JSON.stringify(t)),window.location.href="/catalog?search=".concat(encodeURIComponent(e))}},k=e=>{n(e),v(e)},C=e=>{let t=g.filter(t=>t!==e);y(t),localStorage.setItem("recentSearches",JSON.stringify(t))};return(0,a.jsxs)("div",{ref:b,className:"relative ".concat(s),children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)(x.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsx)("input",{ref:j,type:"text",value:l,onChange:e=>n(e.target.value),onFocus:()=>h(!0),onKeyPress:e=>{"Enter"===e.key&&v(l)},placeholder:t,className:"block w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),l&&(0,a.jsx)("button",{onClick:()=>{var e;n(""),o([]),null==(e=j.current)||e.focus()},className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:(0,a.jsx)(d.A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),m&&(0,a.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto",children:[u&&(0,a.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-sm",children:"Поиск..."})]}),!u&&l.length>=2&&c.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-100",children:(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Результаты поиска"})}),c.map(e=>(0,a.jsx)(i(),{href:e.url,className:"block p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",onClick:()=>h(!1),children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[e.image&&(0,a.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-200 rounded-lg overflow-hidden",children:(0,a.jsx)("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,a.jsx)("span",{className:"text-xs text-gray-400",children:e.category}),e.price&&(0,a.jsxs)("span",{className:"text-sm font-medium text-blue-600",children:[e.price," ₽"]})]})]})]})},e.id))]}),!u&&l.length>=2&&0===c.length&&(0,a.jsxs)("div",{className:"p-4 text-center text-gray-500",children:[(0,a.jsxs)("p",{className:"text-sm",children:['Ничего не найдено по запросу "',l,'"']}),(0,a.jsx)("button",{onClick:()=>v(l),className:"mt-2 text-sm text-blue-600 hover:text-blue-800",children:"Искать в каталоге"})]}),!u&&l.length<2&&(0,a.jsxs)("div",{children:[g.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-100",children:(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"Недавние поиски"]})}),g.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,a.jsx)("button",{onClick:()=>k(e),className:"flex-1 text-left text-sm text-gray-700 hover:text-gray-900",children:e}),(0,a.jsx)("button",{onClick:()=>C(e),className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(d.A,{className:"w-3 h-3"})})]},t))]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"p-3 border-b border-gray-100",children:(0,a.jsxs)("h3",{className:"text-sm font-medium text-gray-900 flex items-center",children:[(0,a.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Популярные запросы"]})}),f.map((e,t)=>(0,a.jsx)("button",{onClick:()=>k(e),className:"block w-full text-left p-3 text-sm text-gray-700 hover:bg-gray-50 hover:text-gray-900 border-b border-gray-100 last:border-b-0",children:e},t))]})]})]})]})}function S(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(""),[u,p]=(0,r.useState)(!1),[y,f]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),{items:N}=(0,h._)();(0,r.useEffect)(()=>{let e=localStorage.getItem("currentUser");e&&f(JSON.parse(e))},[]);let v=()=>{f(null),localStorage.removeItem("currentUser"),j(!1)},w=N.reduce((e,t)=>e+t.quantity,0);return(0,a.jsxs)("header",{className:"sticky top-0 z-50 bg-white shadow-sm",children:[(0,a.jsx)("div",{className:"bg-gray-100 border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center h-10",children:[(0,a.jsxs)("nav",{className:"hidden md:flex space-x-6 text-sm",children:[(0,a.jsx)(i(),{href:"/about",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"О нас"}),(0,a.jsx)(i(),{href:"/catalog",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"Каталог товаров и услуг"}),(0,a.jsx)(i(),{href:"/delivery",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"Оплата и доставка"}),(0,a.jsx)(i(),{href:"/faq",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"Вопросы и ответы"}),(0,a.jsx)(i(),{href:"/discounts",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"Скидки"}),(0,a.jsx)(i(),{href:"/reviews",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"Отзывы"}),(0,a.jsx)(i(),{href:"/contacts",className:"text-gray-600 hover:text-pink-500 transition-colors",children:"Контакты"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:y?(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center text-gray-600 hover:text-pink-500 transition-colors",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 mr-1"}),(0,a.jsx)("span",{className:"text-sm",children:y.firstName||y.username})]}),(0,a.jsx)("button",{onClick:v,className:"text-gray-600 hover:text-pink-500 text-sm transition-colors",children:"Выйти"})]}):(0,a.jsx)("button",{onClick:()=>t(!0),className:"text-gray-600 hover:text-pink-500 text-sm transition-colors",children:"Вход / Регистрация"})})]})})}),(0,a.jsx)("div",{className:"bg-white",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-20",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center group",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center group-hover:bg-pink-600 transition-colors",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"\uD83C\uDF88"})}),(0,a.jsx)("span",{className:"ml-3 text-xl font-bold text-gray-900 group-hover:text-pink-500 transition-colors",children:"Prime Balloons"})]}),(0,a.jsx)("div",{className:"flex-1 max-w-lg mx-8",children:(0,a.jsx)(C,{})})]}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 text-pink-500"}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Ежедневно, круглосуточно"}),(0,a.jsx)("a",{href:"tel:+74957734375",className:"text-lg font-semibold hover:text-pink-500 transition-colors",children:"+7 (495) 773-43-75"})]})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("a",{href:"https://wa.me/74957734375",className:"group",target:"_blank",rel:"noopener noreferrer","aria-label":"WhatsApp",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center group-hover:bg-green-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488z"})})})}),(0,a.jsx)("a",{href:"https://t.me/prazdnikstore",className:"group",target:"_blank",rel:"noopener noreferrer","aria-label":"Telegram",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center group-hover:bg-blue-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})})})]}),(0,a.jsx)(i(),{href:"/cart",className:"relative group",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.A,{className:"h-6 w-6 text-gray-700 group-hover:text-pink-500 transition-colors"}),w>0&&(0,a.jsx)("span",{className:"absolute -top-2 -right-2 bg-pink-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold",children:w})]}),(0,a.jsx)("span",{className:"text-sm text-gray-700 group-hover:text-pink-500 transition-colors",children:"Корзина"})]})})]}),(0,a.jsx)("button",{onClick:()=>p(!u),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors","aria-label":"Открыть меню",children:u?(0,a.jsx)(d.A,{className:"h-6 w-6 text-gray-600"}):(0,a.jsx)(m.A,{className:"h-6 w-6 text-gray-600"})})]})})}),u&&(0,a.jsxs)("div",{className:"md:hidden bg-white border-t shadow-lg",children:[(0,a.jsx)("div",{className:"px-4 py-3",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Поиск по каталогу...",value:s,onChange:e=>l(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}),(0,a.jsx)(x.A,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"})]})}),(0,a.jsx)("nav",{className:"px-4 py-2",children:[{href:"/about",label:"О нас"},{href:"/catalog",label:"Каталог"},{href:"/delivery",label:"Доставка"},{href:"/faq",label:"FAQ"},{href:"/discounts",label:"Скидки"},{href:"/reviews",label:"Отзывы"},{href:"/contacts",label:"Контакты"}].map(e=>(0,a.jsx)(i(),{href:e.href,className:"block py-3 text-gray-600 hover:text-pink-500 transition-colors border-b border-gray-100 last:border-0",onClick:()=>p(!1),children:e.label},e.href))}),(0,a.jsx)("div",{className:"px-4 py-4 border-t bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Круглосуточно"}),(0,a.jsx)("a",{href:"tel:+74957734375",className:"text-lg font-semibold text-gray-900",children:"+7 (495) 773-43-75"})]}),(0,a.jsxs)(i(),{href:"/cart",className:"flex items-center space-x-2 bg-pink-500 text-white px-4 py-2 rounded-lg",onClick:()=>p(!1),children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsxs)("span",{children:["Корзина (",w,")"]})]})]})})]}),e&&(0,a.jsx)(g,{isOpen:e,onClose:()=>t(!1),onAuthSuccess:e=>{f(e),localStorage.setItem("currentUser",JSON.stringify(e)),t(!1)}}),b&&y&&(0,a.jsx)(k,{user:y,isOpen:b,onClose:()=>j(!1),onLogout:v})]})}},7606:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>n,_:()=>c});var a=s(5155),r=s(2115);let l=(e,t)=>{switch(t.type){case"ADD_ITEM":{let s,a=(s=e.items.find(e=>e.id===t.payload.id)?e.items.map(e=>e.id===t.payload.id?{...e,quantity:e.quantity+(t.payload.quantity||1)}:e):[...e.items,{...t.payload,quantity:t.payload.quantity||1}]).reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:s,total:a}}case"REMOVE_ITEM":{let s=e.items.filter(e=>e.id!==t.payload),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:s,total:a}}case"UPDATE_QUANTITY":{let s=e.items.map(e=>e.id===t.payload.id?{...e,quantity:Math.max(0,t.payload.quantity)}:e).filter(e=>e.quantity>0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:s,total:a}}case"CLEAR_CART":return{...e,items:[],total:0};case"LOAD_CART":{let s=t.payload.reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:t.payload,total:s}}case"SET_LOADING":return{...e,isLoading:t.payload};default:return e}},i=(0,r.createContext)(void 0);function n(e){let{children:t}=e,[s,n]=(0,r.useReducer)(l,{items:[],total:0,isLoading:!0});return(0,r.useEffect)(()=>{try{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e);n({type:"LOAD_CART",payload:t})}}catch(e){}finally{n({type:"SET_LOADING",payload:!1})}},[]),(0,r.useEffect)(()=>{if(!s.isLoading)try{localStorage.setItem("cart",JSON.stringify(s.items))}catch(e){}},[s.items,s.isLoading]),(0,a.jsx)(i.Provider,{value:{state:s,dispatch:n,addItem:e=>{n({type:"ADD_ITEM",payload:e})},removeItem:e=>{n({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{n({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{n({type:"CLEAR_CART"})},getItemQuantity:e=>{let t=s.items.find(t=>t.id===e);return t?t.quantity:0}},children:t})}function c(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useCart must be used within a CartProvider");return{items:e.state.items,total:e.state.total,isLoading:e.state.isLoading,addItem:e.addItem,removeItem:e.removeItem,updateQuantity:e.updateQuantity,clearCart:e.clearCart,getItemQuantity:e.getItemQuantity,itemCount:e.state.items.reduce((e,t)=>e+t.quantity,0)}}},7924:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},8749:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9074:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9324:()=>{},9420:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[656,95,8441,1684,7358],()=>t(4335)),_N_E=e.O()}]);