(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4005],{2525:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},3537:(e,t,s)=>{"use strict";s.d(t,{default:()=>j});var a=s(5155),i=s(2115),l=s(6766),r=s(6874),d=s.n(r),n=s(6151),c=s(7550),x=s(2525),o=s(7712),m=s(4616),h=s(9946);let u=(0,h.A)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),y=(0,h.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var p=s(7606);function j(){let{items:e,updateQuantity:t,removeItem:s,clearCart:r,total:h}=(0,p._)(),[j,g]=(0,i.useState)(""),[N,f]=(0,i.useState)(!1),v=e=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:0}).format(e),b=N?.1*h:0,w=h-b,k=w>3e3?0:300;return 0===e.length?(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)(n.A,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Корзина пуста"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Добавьте товары в корзину, чтобы продолжить покупки"}),(0,a.jsxs)(d(),{href:"/catalog",className:"inline-flex items-center gap-2 bg-pink-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-pink-600 transition-colors",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),"Перейти к каталогу"]})]})}):(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm",children:[(0,a.jsx)("div",{className:"p-6 border-b",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold",children:["Товары в корзине (",e.length,")"]}),(0,a.jsx)("button",{onClick:r,className:"text-red-500 hover:text-red-700 text-sm font-medium transition-colors",children:"Очистить корзину"})]})}),(0,a.jsx)("div",{className:"divide-y",children:e.map(e=>(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"relative w-24 h-24 flex-shrink-0",children:(0,a.jsx)(l.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover rounded-lg"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsx)(d(),{href:"/products/".concat(e.id),className:"font-semibold text-gray-900 hover:text-pink-500 transition-colors",children:e.name}),(0,a.jsx)("button",{onClick:()=>s(e.id),className:"text-gray-400 hover:text-red-500 transition-colors ml-4",children:(0,a.jsx)(x.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900 mb-3",children:v(e.price)}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>t(e.id,Math.max(1,e.quantity-1)),className:"p-2 hover:bg-gray-100 transition-colors",disabled:e.quantity<=1,children:(0,a.jsx)(o.A,{className:"h-4 w-4"})}),(0,a.jsx)("span",{className:"px-4 py-2 font-medium",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>t(e.id,e.quantity+1),className:"p-2 hover:bg-gray-100 transition-colors",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-gray-900",children:v(e.price*e.quantity)}),e.quantity>1&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[v(e.price)," \xd7 ",e.quantity]})]})]})]})]})},e.id))})]}),(0,a.jsxs)(d(),{href:"/catalog",className:"inline-flex items-center gap-2 text-pink-500 hover:text-pink-700 font-medium transition-colors",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),"Продолжить покупки"]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-4",children:"Промокод"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{type:"text",placeholder:"Введите промокод",value:j,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"}),(0,a.jsx)("button",{onClick:()=>{"save10"===j.toLowerCase()&&f(!0)},disabled:N||!j,className:"w-full py-3 px-4 border border-pink-500 text-pink-500 rounded-lg font-medium hover:bg-pink-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:N?"Промокод применен":"Применить"}),N&&(0,a.jsx)("div",{className:"text-green-600 text-sm",children:"✓ Скидка 10% применена!"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-4",children:"Итого"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Товары (",e.reduce((e,t)=>e+t.quantity,0)," шт.)"]}),(0,a.jsx)("span",{children:v(h)})]}),N&&(0,a.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,a.jsx)("span",{children:"Скидка по промокоду"}),(0,a.jsxs)("span",{children:["-",v(b)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{className:"h-4 w-4"}),"Доставка"]}),(0,a.jsx)("span",{children:0===k?(0,a.jsx)("span",{className:"text-green-600",children:"Бесплатно"}):v(k)})]}),k>0&&(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["Бесплатная доставка от ",v(3e3)]}),(0,a.jsx)("hr",{className:"my-4"}),(0,a.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,a.jsx)("span",{children:"К оплате"}),(0,a.jsx)("span",{children:v(w+k)})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,a.jsxs)("button",{className:"w-full bg-pink-500 text-white py-4 px-6 rounded-lg font-semibold text-lg hover:bg-pink-600 transition-colors flex items-center justify-center gap-2 mb-4",children:[(0,a.jsx)(y,{className:"h-5 w-5"}),"Оформить заказ"]}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500",children:[(0,a.jsx)("p",{children:"Безопасная оплата через"}),(0,a.jsxs)("div",{className:"flex justify-center gap-2 mt-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Visa"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"MasterCard"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"МИР"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-100 rounded-xl p-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Условия доставки"}),(0,a.jsxs)("ul",{className:"text-sm text-gray-600 space-y-2",children:[(0,a.jsx)("li",{children:"• Доставка по Москве и МО"}),(0,a.jsxs)("li",{children:["• Бесплатная доставка от ",v(3e3)]}),(0,a.jsx)("li",{children:"• Доставка в течение 1-3 дней"}),(0,a.jsx)("li",{children:"• Возможен самовывоз"})]})]})]})]})}},4488:(e,t,s)=>{Promise.resolve().then(s.bind(s,3537))},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6151:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("shopping-bag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},7550:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7606:(e,t,s)=>{"use strict";s.d(t,{CartProvider:()=>d,_:()=>n});var a=s(5155),i=s(2115);let l=(e,t)=>{switch(t.type){case"ADD_ITEM":{let s,a=(s=e.items.find(e=>e.id===t.payload.id)?e.items.map(e=>e.id===t.payload.id?{...e,quantity:e.quantity+(t.payload.quantity||1)}:e):[...e.items,{...t.payload,quantity:t.payload.quantity||1}]).reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:s,total:a}}case"REMOVE_ITEM":{let s=e.items.filter(e=>e.id!==t.payload),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:s,total:a}}case"UPDATE_QUANTITY":{let s=e.items.map(e=>e.id===t.payload.id?{...e,quantity:Math.max(0,t.payload.quantity)}:e).filter(e=>e.quantity>0),a=s.reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:s,total:a}}case"CLEAR_CART":return{...e,items:[],total:0};case"LOAD_CART":{let s=t.payload.reduce((e,t)=>e+t.price*t.quantity,0);return{...e,items:t.payload,total:s}}case"SET_LOADING":return{...e,isLoading:t.payload};default:return e}},r=(0,i.createContext)(void 0);function d(e){let{children:t}=e,[s,d]=(0,i.useReducer)(l,{items:[],total:0,isLoading:!0});return(0,i.useEffect)(()=>{try{let e=localStorage.getItem("cart");if(e){let t=JSON.parse(e);d({type:"LOAD_CART",payload:t})}}catch(e){}finally{d({type:"SET_LOADING",payload:!1})}},[]),(0,i.useEffect)(()=>{if(!s.isLoading)try{localStorage.setItem("cart",JSON.stringify(s.items))}catch(e){}},[s.items,s.isLoading]),(0,a.jsx)(r.Provider,{value:{state:s,dispatch:d,addItem:e=>{d({type:"ADD_ITEM",payload:e})},removeItem:e=>{d({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{d({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{d({type:"CLEAR_CART"})},getItemQuantity:e=>{let t=s.items.find(t=>t.id===e);return t?t.quantity:0}},children:t})}function n(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useCart must be used within a CartProvider");return{items:e.state.items,total:e.state.total,isLoading:e.state.isLoading,addItem:e.addItem,removeItem:e.removeItem,updateQuantity:e.updateQuantity,clearCart:e.clearCart,getItemQuantity:e.getItemQuantity,itemCount:e.state.items.reduce((e,t)=>e+t.quantity,0)}}},7712:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[95,6766,8441,1684,7358],()=>t(4488)),_N_E=e.O()}]);